<%- include ../header.ejs %>

<!-- 下拉框模糊查询可用镜像 -->
<script type="text/javascript">
  $(function() {
    var availableImages = [];
    <% for (var i = 0, iLength = images.length; i < iLength; i++) { %>
      availableImages.push('<%= images[i]; %>');
    <% } %>
    $('#image-name').autocomplete({
      source: availableImages
    });
  });
</script>


<div class="row">
  <div class="col-md-4 col-md-offset-4">
    <div class="create-container-form">
      <h3>添加追踪容器</h3>


      <form action="/container/create" method="post" enctype="application/x-www-form-urlencoded">
        <!--<div class="form-group">-->
          <!--<input type="text" class="form-control" name="container-name" placeholder="容器名"/>-->
        <!--</div>-->
        <!--<div class="form-group">-->
          <!--<input type="text" id="image-name" class="form-control" name="image-name" placeholder="镜像"/>-->
        <!--</div>-->
        <!--<div class="form-group">-->
          <!--<input type="text" class="form-control" name="command" placeholder="启动命令"/>-->
        <!--</div>-->
        <!--<div class="form-group">-->
          <!--<input type="text" class="form-control" name="port" placeholder="运行端口"/>-->
        <!--</div>-->
        <!--<button type="submit" class="btn btn-success">创建</button>-->

        <div class="form-group">
          <select name="container" class="form-control">
            <% containers.forEach(function (container) { %>
            <option value="<%= JSON.stringify(container) %>"><%= container.Names[0].slice(1, container.Names[0].length) %></option>
            <% }) %>
          </select>
        </div>
        <button type="submit" class="btn btn-success">添加</button>
      </form>
    </div>
  </div>
</div>

<%- include ../footer.ejs %>
